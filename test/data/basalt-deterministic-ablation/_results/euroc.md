# Ablation test results

- Datasets used:
  - EMH*: EuRoC machine hall datasets.
  - EV*: EuRoC Vicon Room datasets.
- Configurations used:
  - Basalt: Original Basalt from Usenko.
  - Current: Our implementation removing the improvements.
  - MGT: Before the same pixel was being used (now called SAME_PIXEL), now we assume features in the left camera have a depth that is equal to the average of all currently known depths, and reproject that 3D point into the right camera (REPROJ_AVG_DEPTH).
  - OVL: Use camera's non-overlapping area: this allows HMDs that have canted cameras to track features on the area of the right camera that does not overlap with the left (main) camera.
  - TMC: Triangulate landmarks using all the available cameras.
  - IMU: Front-end predicts the pose using IMU information.
  - ISR: Use safe_radius property to ignore black image corners.
  - REC: Recall previously seen landmarks with optical flow.
  - COV: Implement covisibility queries to recall lost landmarks.

Average total features

|       | basalt   | curr            | curr_mgt        | curr_mgt_ovl    | curr_mgt_ovl_tmc   | curr_mgt_ovl_tmc_imu   | curr_mgt_ovl_tmc_imu_isr   | curr_mgt_ovl_tmc_imu_isr_rec   | curr_mgt_ovl_tmc_imu_isr_rec_cov   |
|:------|:---------|:----------------|:----------------|:----------------|:-------------------|:-----------------------|:---------------------------|:-------------------------------|:-----------------------------------|
| EMH01 | —        | 387.92 ± 113.40 | 381.60 ± 120.89 | 385.23 ± 116.67 | 384.89 ± 116.32    | 388.21 ± 113.16        | 388.21 ± 113.16            | 399.16 ± 113.86                | **399.74 ± 112.15**                |
| EMH02 | —        | 393.32 ± 145.28 | 389.35 ± 144.13 | 390.85 ± 142.40 | 390.87 ± 142.87    | 391.77 ± 140.81        | 391.77 ± 140.81            | 401.49 ± 135.05                | **403.40 ± 136.37**                |
| EMH03 | —        | 365.46 ± 95.40  | 370.84 ± 96.33  | 370.84 ± 96.33  | 370.90 ± 96.43     | 377.47 ± 95.81         | 377.47 ± 95.81             | 382.34 ± 96.55                 | **383.72 ± 97.38**                 |
| EMH05 | —        | 340.42 ± 96.42  | 347.08 ± 96.96  | 347.08 ± 96.96  | 347.09 ± 97.00     | 347.18 ± 95.79         | 347.18 ± 95.79             | **352.31 ± 99.10**             | 351.54 ± 97.72                     |
| EV101 | —        | 381.97 ± 85.88  | 392.97 ± 88.80  | 392.99 ± 88.77  | 392.87 ± 88.91     | 395.99 ± 89.56         | 395.99 ± 89.56             | 408.42 ± 86.41                 | **410.26 ± 85.98**                 |
| EV102 | —        | 282.28 ± 64.55  | 286.87 ± 66.93  | 286.87 ± 66.93  | 286.86 ± 66.94     | 307.14 ± 69.97         | 307.14 ± 69.97             | 320.68 ± 72.43                 | **322.69 ± 72.69**                 |
| EV103 | —        | 208.51 ± 73.20  | 211.73 ± 74.37  | 211.78 ± 74.33  | 211.80 ± 74.33     | 221.81 ± 74.07         | 221.81 ± 74.07             | 238.93 ± 68.65                 | **240.21 ± 70.87**                 |
| EV201 | —        | 314.10 ± 92.93  | 315.35 ± 92.10  | 315.35 ± 92.10  | 315.25 ± 92.13     | 315.96 ± 89.64         | 315.96 ± 89.64             | 329.68 ± 90.59                 | **330.25 ± 90.99**                 |
| EV202 | —        | 248.34 ± 67.25  | 250.26 ± 67.88  | 250.26 ± 67.88  | 250.22 ± 67.92     | 259.01 ± 66.77         | 259.01 ± 66.77             | 273.30 ± 68.67                 | **274.23 ± 68.63**                 |
| [AVG] | —        | 324.70 ± 92.70  | 327.34 ± 94.27  | 327.92 ± 93.60  | 327.86 ± 93.65     | 333.84 ± 92.84         | 333.84 ± 92.84             | 345.15 ± 92.37                 | **346.23 ± 92.53**                 |

Average features recalled

|       | basalt   | curr        | curr_mgt    | curr_mgt_ovl   | curr_mgt_ovl_tmc   | curr_mgt_ovl_tmc_imu   | curr_mgt_ovl_tmc_imu_isr   | curr_mgt_ovl_tmc_imu_isr_rec   | curr_mgt_ovl_tmc_imu_isr_rec_cov   |
|:------|:---------|:------------|:------------|:---------------|:-------------------|:-----------------------|:---------------------------|:-------------------------------|:-----------------------------------|
| EMH01 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 3.01 ± 4.22                    | **3.05 ± 4.24**                    |
| EMH02 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 3.69 ± 5.17                    | **3.80 ± 5.61**                    |
| EMH03 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 4.48 ± 5.41                    | **4.63 ± 5.56**                    |
| EMH05 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 4.48 ± 3.99                    | **4.82 ± 4.16**                    |
| EV101 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 10.02 ± 6.24                   | **10.84 ± 6.80**                   |
| EV102 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 15.10 ± 10.50                  | **17.74 ± 10.96**                  |
| EV103 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | **22.49 ± 15.44**              | 22.26 ± 14.99                      |
| EV201 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 7.80 ± 4.57                    | **8.44 ± 4.92**                    |
| EV202 | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 15.23 ± 13.23                  | **15.98 ± 14.19**                  |
| [AVG] | —        | 0.00 ± 0.00 | 0.00 ± 0.00 | 0.00 ± 0.00    | 0.00 ± 0.00        | 0.00 ± 0.00            | 0.00 ± 0.00                | 9.59 ± 7.64                    | **10.17 ± 7.94**                   |

Percentage of the features that were recalled

|       | basalt   | curr          | curr_mgt      | curr_mgt_ovl   | curr_mgt_ovl_tmc   | curr_mgt_ovl_tmc_imu   | curr_mgt_ovl_tmc_imu_isr   | curr_mgt_ovl_tmc_imu_isr_rec   | curr_mgt_ovl_tmc_imu_isr_rec_cov   |
|:------|:---------|:--------------|:--------------|:---------------|:-------------------|:-----------------------|:---------------------------|:-------------------------------|:-----------------------------------|
| EMH01 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 0.89% ± 1.58%                  | **0.91% ± 1.57%**                  |
| EMH02 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 1.17% ± 2.01%                  | **1.22% ± 2.25%**                  |
| EMH03 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 1.34% ± 1.85%                  | **1.38% ± 1.88%**                  |
| EMH05 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 1.38% ± 1.42%                  | **1.48% ± 1.50%**                  |
| EV101 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 2.65% ± 1.93%                  | **2.84% ± 2.05%**                  |
| EV102 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 4.80% ± 3.56%                  | **5.59% ± 3.70%**                  |
| EV103 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | **9.94% ± 6.80%**              | 9.83% ± 6.67%                      |
| EV201 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 2.61% ± 1.90%                  | **2.83% ± 2.00%**                  |
| EV202 | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 6.31% ± 6.64%                  | **6.52% ± 6.83%**                  |
| [AVG] | —        | 0.00% ± 0.00% | 0.00% ± 0.00% | 0.00% ± 0.00%  | 0.00% ± 0.00%      | 0.00% ± 0.00%          | 0.00% ± 0.00%              | 3.45% ± 3.08%                  | **3.62% ± 3.16%**                  |

Average completion percentage [%]

|       | basalt   | curr   | curr_mgt   | curr_mgt_ovl   | curr_mgt_ovl_tmc   | curr_mgt_ovl_tmc_imu   | curr_mgt_ovl_tmc_imu_isr   | curr_mgt_ovl_tmc_imu_isr_rec   | curr_mgt_ovl_tmc_imu_isr_rec_cov   |
|:------|:---------|:-------|:-----------|:---------------|:-------------------|:-----------------------|:---------------------------|:-------------------------------|:-----------------------------------|
| EMH01 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EMH02 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EMH03 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EMH05 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EV101 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EV102 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EV103 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EV201 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| EV202 | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |
| [AVG] | ✓        | ✓      | ✓          | ✓              | ✓                  | ✓                      | ✓                          | ✓                              | ✓                                  |

Absolute trajectory error (ATE) [m]

|       | basalt            | curr          | curr_mgt      | curr_mgt_ovl   | curr_mgt_ovl_tmc   | curr_mgt_ovl_tmc_imu   | curr_mgt_ovl_tmc_imu_isr   | curr_mgt_ovl_tmc_imu_isr_rec   | curr_mgt_ovl_tmc_imu_isr_rec_cov   |
|:------|:------------------|:--------------|:--------------|:---------------|:-------------------|:-----------------------|:---------------------------|:-------------------------------|:-----------------------------------|
| EMH01 | **0.066 ± 0.023** | 0.073 ± 0.021 | 0.069 ± 0.020 | 0.069 ± 0.020  | 0.074 ± 0.024      | 0.076 ± 0.021          | 0.076 ± 0.021              | 0.090 ± 0.026                  | 0.099 ± 0.030                      |
| EMH02 | 0.062 ± 0.031     | 0.057 ± 0.028 | 0.049 ± 0.025 | 0.049 ± 0.025  | **0.049 ± 0.027**  | 0.050 ± 0.030          | 0.050 ± 0.030              | 0.063 ± 0.023                  | 0.054 ± 0.022                      |
| EMH03 | 0.062 ± 0.019     | 0.062 ± 0.019 | 0.068 ± 0.021 | 0.068 ± 0.021  | 0.057 ± 0.019      | 0.060 ± 0.022          | 0.060 ± 0.022              | **0.056 ± 0.023**              | 0.074 ± 0.034                      |
| EMH05 | **0.145 ± 0.041** | 0.145 ± 0.041 | 0.179 ± 0.056 | 0.179 ± 0.056  | 0.164 ± 0.043      | 0.145 ± 0.043          | 0.145 ± 0.043              | 0.174 ± 0.053                  | 0.147 ± 0.040                      |
| EV101 | 0.043 ± 0.017     | 0.043 ± 0.017 | 0.043 ± 0.017 | 0.043 ± 0.017  | **0.043 ± 0.017**  | 0.043 ± 0.017          | 0.043 ± 0.017              | 0.050 ± 0.020                  | 0.050 ± 0.018                      |
| EV102 | 0.045 ± 0.013     | 0.045 ± 0.013 | 0.047 ± 0.014 | 0.047 ± 0.014  | 0.046 ± 0.013      | 0.054 ± 0.017          | 0.054 ± 0.017              | 0.048 ± 0.015                  | **0.042 ± 0.018**                  |
| EV103 | 0.053 ± 0.020     | 0.053 ± 0.020 | 0.051 ± 0.020 | 0.051 ± 0.020  | **0.050 ± 0.020**  | 0.056 ± 0.014          | 0.056 ± 0.014              | 0.082 ± 0.066                  | 0.087 ± 0.066                      |
| EV201 | 0.039 ± 0.015     | 0.039 ± 0.015 | 0.043 ± 0.017 | 0.043 ± 0.017  | 0.045 ± 0.020      | **0.036 ± 0.013**      | 0.036 ± 0.013              | 0.038 ± 0.013                  | 0.040 ± 0.015                      |
| EV202 | 0.049 ± 0.021     | 0.049 ± 0.021 | 0.046 ± 0.021 | 0.046 ± 0.021  | 0.051 ± 0.026      | **0.040 ± 0.014**      | 0.040 ± 0.014              | 0.041 ± 0.019                  | 0.042 ± 0.016                      |
| [AVG] | 0.063 ± 0.022     | 0.063 ± 0.022 | 0.066 ± 0.024 | 0.066 ± 0.024  | 0.064 ± 0.023      | **0.062 ± 0.021**      | 0.062 ± 0.021              | 0.071 ± 0.029                  | 0.071 ± 0.029                      |

Relative trajectory error (RTE) [m]

|       | basalt              | curr                | curr_mgt                | curr_mgt_ovl        | curr_mgt_ovl_tmc    | curr_mgt_ovl_tmc_imu    | curr_mgt_ovl_tmc_imu_isr   | curr_mgt_ovl_tmc_imu_isr_rec   | curr_mgt_ovl_tmc_imu_isr_rec_cov   |
|:------|:--------------------|:--------------------|:------------------------|:--------------------|:--------------------|:------------------------|:---------------------------|:-------------------------------|:-----------------------------------|
| EMH01 | 0.005266 ± 0.003094 | 0.005243 ± 0.003086 | 0.005214 ± 0.003065     | 0.005215 ± 0.003065 | 0.005138 ± 0.002977 | **0.005120 ± 0.002988** | 0.005120 ± 0.002988        | 0.005653 ± 0.003292            | 0.007173 ± 0.005223                |
| EMH02 | 0.004454 ± 0.002339 | 0.004489 ± 0.002334 | 0.004402 ± 0.002432     | 0.004401 ± 0.002433 | 0.004214 ± 0.002222 | **0.004161 ± 0.002211** | 0.004161 ± 0.002211        | 0.004820 ± 0.002642            | 0.005223 ± 0.003125                |
| EMH03 | 0.011959 ± 0.007684 | 0.011942 ± 0.007676 | 0.012003 ± 0.007755     | 0.012003 ± 0.007755 | 0.011862 ± 0.007594 | **0.011686 ± 0.007596** | 0.011686 ± 0.007596        | 0.012803 ± 0.008322            | 0.027000 ± 0.021251                |
| EMH05 | 0.010939 ± 0.006223 | 0.010974 ± 0.006224 | **0.010677 ± 0.006179** | 0.010677 ± 0.006179 | 0.010819 ± 0.006209 | 0.010726 ± 0.006291     | 0.010726 ± 0.006291        | 0.012333 ± 0.007172            | 0.016402 ± 0.011576                |
| EV101 | 0.013037 ± 0.006246 | 0.013037 ± 0.006249 | 0.013043 ± 0.006257     | 0.013043 ± 0.006257 | 0.013052 ± 0.006271 | **0.013026 ± 0.006258** | 0.013026 ± 0.006258        | 0.013232 ± 0.006344            | 0.022272 ± 0.014314                |
| EV102 | 0.011775 ± 0.005147 | 0.011768 ± 0.005138 | 0.011662 ± 0.005097     | 0.011662 ± 0.005097 | 0.011652 ± 0.005086 | **0.011124 ± 0.004775** | 0.011124 ± 0.004775        | 0.012039 ± 0.005234            | 0.031618 ± 0.020535                |
| EV103 | 0.013336 ± 0.006855 | 0.013359 ± 0.006871 | 0.013119 ± 0.006482     | 0.013115 ± 0.006465 | 0.013109 ± 0.006650 | **0.012279 ± 0.006104** | 0.012279 ± 0.006104        | 0.034668 ± 0.031187            | 0.048125 ± 0.039086                |
| EV201 | 0.003451 ± 0.001951 | 0.003461 ± 0.001967 | 0.003508 ± 0.002030     | 0.003508 ± 0.002030 | 0.003453 ± 0.001964 | **0.003428 ± 0.001972** | 0.003428 ± 0.001972        | 0.004036 ± 0.002219            | 0.005305 ± 0.003648                |
| EV202 | 0.009120 ± 0.005975 | 0.009126 ± 0.005975 | 0.009050 ± 0.005870     | 0.009050 ± 0.005870 | 0.008950 ± 0.005741 | **0.007066 ± 0.003858** | 0.007066 ± 0.003858        | 0.008517 ± 0.004789            | 0.030337 ± 0.022480                |
| [AVG] | 0.009260 ± 0.005057 | 0.009267 ± 0.005058 | 0.009187 ± 0.005019     | 0.009186 ± 0.005017 | 0.009139 ± 0.004968 | **0.008735 ± 0.004673** | 0.008735 ± 0.004673        | 0.012011 ± 0.007911            | 0.021495 ± 0.015693                |
